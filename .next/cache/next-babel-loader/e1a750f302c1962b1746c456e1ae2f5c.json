{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// import React, { useEffect, useState, createContext } from 'react';\nimport { AsyncStorage } from 'react-native';\nimport createDataContext from './createDataContext';\nexport var NEXT_READING_KEY = 'NEXT_READING';\n\nvar nextToReadReducer = function nextToReadReducer(state, action) {\n  switch (action.type) {\n    case 'setNextOnReadingList':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        nextOnReadingList: action.payload\n      });\n\n    case 'add_error':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        errorMessage: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar setNextOnReadingList = function setNextOnReadingList(dispatch) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(nextOnReadingList) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return localStorage.setItem(NEXT_READING_KEY, JSON.stringify(nextOnReadingList));\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch({\n                type: 'add_error',\n                payload: 'Something went wrong with sign up'\n              });\n\n            case 8:\n              dispatch({\n                type: 'setNextOnReadingList',\n                payload: nextOnReadingList\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nvar clearNextReading = function clearNextReading(dispatch) {\n  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            dispatch({\n              type: 'setNextOnReadingList',\n              payload: {\n                section: null,\n                theNextSectionTitle: null,\n                theNextSectionId: null\n              }\n            });\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n};\n\nvar _createDataContext = createDataContext(nextToReadReducer, {\n  setNextOnReadingList: setNextOnReadingList,\n  clearNextReading: clearNextReading\n}, {\n  nextOnReadingList: {},\n  errorMessage: ''\n}),\n    Provider = _createDataContext.Provider,\n    Context = _createDataContext.Context;\n\nexport { Provider, Context };","map":{"version":3,"sources":["/Users/travisgerrard/Documents/next-mdx/src/Components/context/NextToReadContext.js"],"names":["AsyncStorage","createDataContext","NEXT_READING_KEY","nextToReadReducer","state","action","type","nextOnReadingList","payload","errorMessage","setNextOnReadingList","dispatch","localStorage","setItem","JSON","stringify","clearNextReading","section","theNextSectionTitle","theNextSectionId","Provider","Context"],"mappings":";;;;;;;;AAAA;AACA,SAASA,YAAT,QAA6B,cAA7B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAO,IAAMC,gBAAgB,GAAG,cAAzB;;AAEP,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAQC,MAAR,EAAmB;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,sBAAL;AACE,6CAAYF,KAAZ;AAAmBG,QAAAA,iBAAiB,EAAEF,MAAM,CAACG;AAA7C;;AACF,SAAK,WAAL;AACE,6CAAYJ,KAAZ;AAAmBK,QAAAA,YAAY,EAAEJ,MAAM,CAACG;AAAxC;;AACF;AACE,aAAOJ,KAAP;AANJ;AAQD,CATD;;AAWA,IAAMM,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,QAAD;AAAA;AAAA,wEAAc,iBAAOJ,iBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEjCK,YAAY,CAACC,OAAb,CACJX,gBADI,EAEJY,IAAI,CAACC,SAAL,CAAeR,iBAAf,CAFI,CAFiC;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOvCI,cAAAA,QAAQ,CAAC;AACPL,gBAAAA,IAAI,EAAE,WADC;AAEPE,gBAAAA,OAAO,EAAE;AAFF,eAAD,CAAR;;AAPuC;AAYzCG,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAE,sBAAR;AAAgCE,gBAAAA,OAAO,EAAED;AAAzC,eAAD,CAAR;;AAZyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAd;;AAAA;AAAA;AAAA;AAAA;AAAA,CAA7B;;AAeA,IAAMS,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACL,QAAD;AAAA,+EAAc;AAAA;AAAA;AAAA;AAAA;AACrCA,YAAAA,QAAQ,CAAC;AACPL,cAAAA,IAAI,EAAE,sBADC;AAEPE,cAAAA,OAAO,EAAE;AACPS,gBAAAA,OAAO,EAAE,IADF;AAEPC,gBAAAA,mBAAmB,EAAE,IAFd;AAGPC,gBAAAA,gBAAgB,EAAE;AAHX;AAFF,aAAD,CAAR;;AADqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;AAAA,CAAzB;;yBAWqClB,iBAAiB,CACpDE,iBADoD,EAEpD;AAAEO,EAAAA,oBAAoB,EAApBA,oBAAF;AAAwBM,EAAAA,gBAAgB,EAAhBA;AAAxB,CAFoD,EAGpD;AACET,EAAAA,iBAAiB,EAAE,EADrB;AAEEE,EAAAA,YAAY,EAAE;AAFhB,CAHoD,C;IAAvCW,Q,sBAAAA,Q;IAAUC,O,sBAAAA,O","sourcesContent":["// import React, { useEffect, useState, createContext } from 'react';\nimport { AsyncStorage } from 'react-native';\nimport createDataContext from './createDataContext';\nexport const NEXT_READING_KEY = 'NEXT_READING';\n\nconst nextToReadReducer = (state, action) => {\n  switch (action.type) {\n    case 'setNextOnReadingList':\n      return { ...state, nextOnReadingList: action.payload };\n    case 'add_error':\n      return { ...state, errorMessage: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst setNextOnReadingList = (dispatch) => async (nextOnReadingList) => {\n  try {\n    await localStorage.setItem(\n      NEXT_READING_KEY,\n      JSON.stringify(nextOnReadingList)\n    );\n  } catch (e) {\n    dispatch({\n      type: 'add_error',\n      payload: 'Something went wrong with sign up',\n    });\n  }\n  dispatch({ type: 'setNextOnReadingList', payload: nextOnReadingList });\n};\n\nconst clearNextReading = (dispatch) => async () => {\n  dispatch({\n    type: 'setNextOnReadingList',\n    payload: {\n      section: null,\n      theNextSectionTitle: null,\n      theNextSectionId: null,\n    },\n  });\n};\n\nexport const { Provider, Context } = createDataContext(\n  nextToReadReducer,\n  { setNextOnReadingList, clearNextReading },\n  {\n    nextOnReadingList: {},\n    errorMessage: '',\n  }\n);\n"]},"metadata":{},"sourceType":"module"}